<mvc:View controllerName="project1.controller.product_view"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
    displayBlock="true"
    height="100%">
    
    <f:DynamicPage id="dynamicPageId" toggleHeaderOnTitleClick="false">

    <!-- DynamicPage Title -->
    <f:title>
        <f:DynamicPageTitle>
            <f:heading>
                <Title text="Liste des Bacs"/>
            </f:heading>
        </f:DynamicPageTitle>
    </f:title>

    <!-- DynamicPage Content -->
    <f:content>
        <Table id="bacsTable"
            sticky="ColumnHeaders,HeaderToolbar"
            inset="false"
            growing="true"
            items="{
                path: '/YBACS_CDS',
                parameters: {
                    expand: 'toproduct_item'
                },
                sorter: {
                    path: 'nom_bac'
                }
            }"
            class="sapFDynamicPageAlignContent"
            width="auto">

            <headerToolbar>
                <OverflowToolbar>
                    <ToolbarSpacer/>
                    <SearchField search="onSearch" width="17.5rem"/>
                </OverflowToolbar>
            </headerToolbar>

            <columns>
                <Column><Text text="ID Bac" /></Column>
                <Column><Text text="Nom Bac" /></Column>
                <Column minScreenWidth="Tablet" demandPopin="true">
                    <Text text="Produit" />
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true">
                    <Text text="CapacitÃ©" />
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true">
                    <Text text="Stockage" />
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true">
                    <Text text="Creux" />
                </Column>
            </columns>

            <items>
                <ColumnListItem type="Active" vAlign="Middle"  press="onListItemPress">
                    <cells>
                        <Text text="{id_bacs}" />
                        <Text text="{nom_bac}" />
                        <Text text="{toproduct_item/nom_produit}" />
                        <Text text="{ path: 'capacity', formatter: '.formatter.formatNumber' }" />
                        <Text text="{ path: 'stockage', formatter: '.formatter.formatNumber' }" />
                        <Text text="{ path: 'creux', formatter: '.formatter.formatNumber' }" />
                    </cells>
                </ColumnListItem>
            </items>

        </Table>
    </f:content>

    <!-- DynamicPage Footer -->
    <f:footer>
        <OverflowToolbar>
            <ToolbarSpacer/>
            <Button type="Accept" text="Valider"/>
            <Button type="Reject" text="Annuler"/>
        </OverflowToolbar>
    </f:footer>

</f:DynamicPage>

</mvc:View>

